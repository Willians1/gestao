{"ast":null,"code":"var _jsxFileName = \"D:\\\\download\\\\240825gestao\\\\gestao\\\\frontend\\\\src\\\\components\\\\TestesModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Box, Chip, Button, List, ListItem, ListItemText, IconButton, Typography } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TestesModal({\n  open,\n  onClose,\n  API = process.env.REACT_APP_API_URL || 'http://localhost:8000',\n  navigate,\n  initialPendentes = false\n}) {\n  _s();\n  const [clientes, setClientes] = useState([]);\n  const [testesList, setTestesList] = useState([]);\n  const [testesArList, setTestesArList] = useState([]);\n  const [testesCount, setTestesCount] = useState(0);\n  const [testesOkCount, setTestesOkCount] = useState(0);\n  const [testesOffCount, setTestesOffCount] = useState(0);\n  const [testesUrgent, setTestesUrgent] = useState(false);\n  const [selectedTest, setSelectedTest] = useState(null);\n  const [openTestDetail, setOpenTestDetail] = useState(false);\n  const [testesFilter, setTestesFilter] = useState('all');\n  const [testesSortOverdue, setTestesSortOverdue] = useState(false);\n  const daysSince = dateStr => {\n    if (!dateStr) return null;\n    const d = new Date(dateStr);\n    if (isNaN(d.getTime())) return null;\n    return Math.floor((Date.now() - d.getTime()) / (1000 * 60 * 60 * 24));\n  };\n  const getLatestBy = (list, predicate) => {\n    if (!Array.isArray(list)) return null;\n    const candidates = list.filter(predicate);\n    if (!candidates.length) return null;\n    candidates.sort((a, b) => new Date(b.data_teste || b.data || b.created_at || 0) - new Date(a.data_teste || a.data || a.created_at || 0));\n    return candidates[0];\n  };\n  const getClienteNomeById = id => {\n    const c = clientes.find(x => Number(x.id) === Number(id));\n    return c ? c.nome : `PEREQUE LOJA ${String(id || '').toString().padStart(2, '0')}`;\n  };\n  const fetchBothTestes = React.useCallback(async () => {\n    try {\n      const [resGer, resAr] = await Promise.all([fetch(`${API}/testes-loja/`), fetch(`${API}/testes-ar-condicionado/`)]);\n      const [dataGer, dataAr] = await Promise.all([resGer.ok ? resGer.json() : Promise.resolve([]), resAr.ok ? resAr.json() : Promise.resolve([])]);\n      const listGer = Array.isArray(dataGer) ? dataGer : [];\n      const listAr = Array.isArray(dataAr) ? dataAr : [];\n      const countGer = listGer.length;\n      const countAr = listAr.length;\n      const total = countGer + countAr;\n      const offGer = listGer.filter(t => (t.status || '').toString().toUpperCase() === 'OFF').length;\n      const offAr = listAr.filter(t => (t.status || '').toString().toUpperCase() === 'OFF').length;\n      const off = offGer + offAr;\n      const ok = Math.max(0, total - off);\n      setTestesList(listGer);\n      setTestesArList(listAr);\n      setTestesCount(total);\n      setTestesOffCount(off);\n      setTestesOkCount(ok);\n      setTestesUrgent(off > 0);\n    } catch (e) {\n      setTestesList([]);\n      setTestesArList([]);\n      setTestesCount(0);\n      setTestesOffCount(0);\n      setTestesOkCount(0);\n      setTestesUrgent(false);\n    }\n  }, [API]);\n  useEffect(() => {\n    fetchBothTestes();\n  }, [fetchBothTestes]);\n  useEffect(() => {\n    if (open) setTestesFilter(initialPendentes ? 'pendentes' : 'all');\n  }, [open, initialPendentes]);\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      try {\n        const res = await fetch(`${API}/clientes/`);\n        if (!res.ok) return;\n        const data = await res.json();\n        if (mounted) setClientes(Array.isArray(data) ? data : []);\n      } catch {\n        if (mounted) setClientes([]);\n      }\n    })();\n    return () => {\n      mounted = false;\n    };\n  }, [API]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: onClose,\n      fullWidth: true,\n      maxWidth: \"sm\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        sx: {\n          m: 0,\n          p: 2\n        },\n        children: [\"Testes de Loja\", /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"close\",\n          onClick: onClose,\n          sx: {\n            position: 'absolute',\n            right: 8,\n            top: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 1,\n            mb: 2,\n            flexWrap: 'wrap',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            label: `Total: ${testesCount !== null && testesCount !== void 0 ? testesCount : 0}`,\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            label: `OK: ${testesOkCount !== null && testesOkCount !== void 0 ? testesOkCount : 0}`,\n            color: \"success\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            label: `OFF: ${testesOffCount !== null && testesOffCount !== void 0 ? testesOffCount : 0}`,\n            color: \"error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), testesUrgent && /*#__PURE__*/_jsxDEV(Chip, {\n            label: \"URGENTE\",\n            color: \"error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 30\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              ml: 'auto',\n              display: 'flex',\n              gap: 1,\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: testesFilter === 'pendentes' ? 'contained' : 'outlined',\n              onClick: () => setTestesFilter('pendentes'),\n              children: \"Pendentes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: testesFilter === 'all' ? 'contained' : 'outlined',\n              onClick: () => setTestesFilter('all'),\n              children: \"Todos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: testesFilter === 'ok' ? 'contained' : 'outlined',\n              onClick: () => setTestesFilter('ok'),\n              children: \"OK\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: testesFilter === 'alerta' ? 'contained' : 'outlined',\n              onClick: () => setTestesFilter('alerta'),\n              children: \"ALERTA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: testesFilter === 'sem' ? 'contained' : 'outlined',\n              onClick: () => setTestesFilter('sem'),\n              children: \"Sem registro\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              size: \"small\",\n              variant: testesSortOverdue ? 'contained' : 'outlined',\n              onClick: () => setTestesSortOverdue(s => !s),\n              sx: {\n                ml: 1\n              },\n              children: testesSortOverdue ? 'Ordenar: Mais atrasadas' : 'Ordenar: Padr√£o'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mb: 1,\n            display: 'flex',\n            px: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              flex: 1,\n              textAlign: 'left',\n              fontWeight: 700\n            },\n            children: \"Loja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: 150,\n              textAlign: 'center',\n              fontWeight: 700\n            },\n            children: \"GERADOR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              width: 150,\n              textAlign: 'center',\n              fontWeight: 700\n            },\n            children: \"AR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(List, {\n          children: (() => {\n            const rows = Array.from({\n              length: 16\n            }).map((_, i) => {\n              const idx = i + 1;\n              const clienteObj = clientes.find(c => Number(c.id) === idx);\n              const lojaName = clienteObj ? clienteObj.nome : `PEREQUE LOJA ${String(idx).padStart(2, '0')}`;\n              const gerCandidate = getLatestBy(testesList, t => Number(t.cliente_id) === idx);\n              const arCandidate = getLatestBy(testesArList, t => Number(t.cliente_id) === idx);\n              const gerDays = gerCandidate ? daysSince(gerCandidate.data_teste || gerCandidate.data || gerCandidate.created_at) : null;\n              const arDays = arCandidate ? daysSince(arCandidate.data_teste || arCandidate.data || arCandidate.created_at) : null;\n              const maxDays = Math.max(gerDays !== null && gerDays !== void 0 ? gerDays : -1, arDays !== null && arDays !== void 0 ? arDays : -1);\n              // Status agora exige que AMBOS testes (gerador e ar) estejam dentro do prazo para 'ok'\n              let status = 'sem';\n              const gerOk = gerDays !== null && gerDays <= 7;\n              const arOk = arDays !== null && arDays <= 7;\n              if (gerOk && arOk) {\n                status = 'ok';\n              } else if (gerDays === null && arDays === null) {\n                status = 'sem';\n              } else {\n                // Se qualquer um estiver ausente ou atrasado, marcar alerta\n                if (gerDays !== null && gerDays > 7 || arDays !== null && arDays > 7 || gerDays === null || arDays === null) {\n                  status = 'alerta';\n                }\n              }\n              // L√≥gica de pend√™ncia: atraso > 7 dias OU (quinta-feira e sem registro no dia)\n              const today = new Date();\n              const isThursday = today.getDay() === 4;\n              const sameDay = (a, b) => a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate();\n              const gerDate = gerCandidate ? new Date(gerCandidate.data_teste || gerCandidate.data || gerCandidate.created_at) : null;\n              const arDate = arCandidate ? new Date(arCandidate.data_teste || arCandidate.data || arCandidate.created_at) : null;\n              const hasToday = [gerDate, arDate].some(d => d && sameDay(d, today));\n              const overdue = gerDays === null && arDays === null || gerDays !== null && gerDays > 7 || arDays !== null && arDays > 7;\n              const pendente = overdue || isThursday && !hasToday;\n              return {\n                lojaName,\n                gerCandidate,\n                arCandidate,\n                gerDays,\n                arDays,\n                maxDays,\n                status,\n                pendente\n              };\n            });\n            const filtered = rows.filter(r => {\n              if (testesFilter === 'all') return true;\n              if (testesFilter === 'pendentes') return r.pendente;\n              if (testesFilter === 'ok') return r.status === 'ok';\n              if (testesFilter === 'alerta') return r.status === 'alerta';\n              if (testesFilter === 'sem') return r.status === 'sem';\n              return true;\n            });\n            if (testesSortOverdue) filtered.sort((a, b) => b.maxDays - a.maxDays);\n            return filtered.map(r => /*#__PURE__*/_jsxDEV(ListItem, {\n              divider: true,\n              sx: {\n                display: 'flex',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  flex: 1\n                },\n                children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: r.lojaName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  width: 150,\n                  textAlign: 'center'\n                },\n                children: r.gerCandidate ? r.gerDays !== null && r.gerDays <= 7 ? /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"contained\",\n                  color: \"success\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    setSelectedTest({\n                      ...r.gerCandidate,\n                      _tipo: 'gerador'\n                    });\n                    setOpenTestDetail(true);\n                  },\n                  children: new Date(r.gerCandidate.data_teste || r.gerCandidate.data || r.gerCandidate.created_at).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"contained\",\n                  color: \"error\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    setSelectedTest({\n                      ...r.gerCandidate,\n                      _tipo: 'gerador'\n                    });\n                    setOpenTestDetail(true);\n                  },\n                  children: r.gerDays != null ? `${r.gerDays}d` : 'SEM REGISTRO'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"contained\",\n                  color: \"error\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    setSelectedTest(null);\n                    setOpenTestDetail(true);\n                  },\n                  children: \"SEM REGISTRO\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  width: 150,\n                  textAlign: 'center'\n                },\n                children: r.arCandidate ? r.arDays !== null && r.arDays <= 7 ? /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"contained\",\n                  color: \"success\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    setSelectedTest({\n                      ...r.arCandidate,\n                      _tipo: 'ar'\n                    });\n                    setOpenTestDetail(true);\n                  },\n                  children: new Date(r.arCandidate.data_teste || r.arCandidate.data || r.arCandidate.created_at).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"contained\",\n                  color: \"error\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    setSelectedTest({\n                      ...r.arCandidate,\n                      _tipo: 'ar'\n                    });\n                    setOpenTestDetail(true);\n                  },\n                  children: r.arDays != null ? `${r.arDays}d` : 'SEM REGISTRO'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"contained\",\n                  color: \"error\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    setSelectedTest(null);\n                    setOpenTestDetail(true);\n                  },\n                  children: \"SEM REGISTRO\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)]\n            }, r.lojaName, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this));\n          })()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            onClose();\n            navigate('/testes-loja-menu');\n          },\n          color: \"primary\",\n          variant: \"contained\",\n          children: \"Ir para Testes de Loja\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onClose,\n          color: \"inherit\",\n          children: \"Fechar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openTestDetail,\n      onClose: () => setOpenTestDetail(false),\n      fullWidth: true,\n      maxWidth: \"sm\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Detalhes do Teste\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        dividers: true,\n        children: selectedTest ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Cliente:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 27\n            }, this), \" \", getClienteNomeById(selectedTest.cliente_id) || selectedTest.cliente || '‚Äî']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Data:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 27\n            }, this), \" \", new Date(selectedTest.data_teste || selectedTest.data || selectedTest.created_at).toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 27\n            }, this), \" \", selectedTest.status || '‚Äî']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this), selectedTest.observacao && /*#__PURE__*/_jsxDEV(Typography, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Observa\\xE7\\xE3o:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 55\n            }, this), \" \", selectedTest.observacao]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 43\n          }, this), selectedTest.foto && /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              mt: 1\n            },\n            children: (() => {\n              const base = `${API}/uploads/${selectedTest._tipo === 'ar' ? 'testes-ar-condicionado' : 'testes-loja'}`;\n              const url = `${base}/${selectedTest.foto}`;\n              return /*#__PURE__*/_jsxDEV(\"img\", {\n                src: url,\n                alt: \"foto\",\n                style: {\n                  maxWidth: '100%',\n                  borderRadius: 6\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 28\n              }, this);\n            })()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"text.secondary\",\n          children: \"Sem registro dispon\\xEDvel para este tipo.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            // navegar para a p√°gina de testes e abrir o teste selecionado via query params\n            setOpenTestDetail(false);\n            onClose();\n            if (selectedTest && selectedTest.id) {\n              const tipo = selectedTest._tipo === 'ar' ? 'ar' : 'gerador';\n              navigate(`/testes-loja?id=${selectedTest.id}&tipo=${tipo}`);\n            } else {\n              navigate('/testes-loja');\n            }\n          },\n          variant: \"contained\",\n          children: \"Abrir na p\\xE1gina\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenTestDetail(false),\n          children: \"Fechar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(TestesModal, \"y19bhlPWGzglV6NYfx8XZv0MnH8=\");\n_c = TestesModal;\nvar _c;\n$RefreshReg$(_c, \"TestesModal\");","map":{"version":3,"names":["React","useEffect","useState","Dialog","DialogTitle","DialogContent","DialogActions","Box","Chip","Button","List","ListItem","ListItemText","IconButton","Typography","CloseIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","TestesModal","open","onClose","API","process","env","REACT_APP_API_URL","navigate","initialPendentes","_s","clientes","setClientes","testesList","setTestesList","testesArList","setTestesArList","testesCount","setTestesCount","testesOkCount","setTestesOkCount","testesOffCount","setTestesOffCount","testesUrgent","setTestesUrgent","selectedTest","setSelectedTest","openTestDetail","setOpenTestDetail","testesFilter","setTestesFilter","testesSortOverdue","setTestesSortOverdue","daysSince","dateStr","d","Date","isNaN","getTime","Math","floor","now","getLatestBy","list","predicate","Array","isArray","candidates","filter","length","sort","a","b","data_teste","data","created_at","getClienteNomeById","id","c","find","x","Number","nome","String","toString","padStart","fetchBothTestes","useCallback","resGer","resAr","Promise","all","fetch","dataGer","dataAr","ok","json","resolve","listGer","listAr","countGer","countAr","total","offGer","t","status","toUpperCase","offAr","off","max","e","mounted","res","children","fullWidth","maxWidth","sx","m","p","onClick","position","right","top","fileName","_jsxFileName","lineNumber","columnNumber","dividers","display","gap","mb","flexWrap","alignItems","label","color","ml","size","variant","s","px","flex","textAlign","fontWeight","width","rows","from","map","_","i","idx","clienteObj","lojaName","gerCandidate","cliente_id","arCandidate","gerDays","arDays","maxDays","gerOk","arOk","today","isThursday","getDay","sameDay","getFullYear","getMonth","getDate","gerDate","arDate","hasToday","some","overdue","pendente","filtered","r","divider","primary","stopPropagation","_tipo","toLocaleDateString","flexDirection","cliente","toLocaleString","observacao","foto","mt","base","url","src","alt","style","borderRadius","tipo","_c","$RefreshReg$"],"sources":["D:/download/240825gestao/gestao/frontend/src/components/TestesModal.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Box,\r\n  Chip,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  IconButton,\r\n  Typography\r\n} from '@mui/material';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nexport default function TestesModal({ open, onClose, API = (process.env.REACT_APP_API_URL || 'http://localhost:8000'), navigate, initialPendentes = false }) {\r\n  const [clientes, setClientes] = useState([]);\r\n  const [testesList, setTestesList] = useState([]);\r\n  const [testesArList, setTestesArList] = useState([]);\r\n  const [testesCount, setTestesCount] = useState(0);\r\n  const [testesOkCount, setTestesOkCount] = useState(0);\r\n  const [testesOffCount, setTestesOffCount] = useState(0);\r\n  const [testesUrgent, setTestesUrgent] = useState(false);\r\n  const [selectedTest, setSelectedTest] = useState(null);\r\n  const [openTestDetail, setOpenTestDetail] = useState(false);\r\n  const [testesFilter, setTestesFilter] = useState('all');\r\n  const [testesSortOverdue, setTestesSortOverdue] = useState(false);\r\n\r\n  const daysSince = (dateStr) => {\r\n    if (!dateStr) return null;\r\n    const d = new Date(dateStr);\r\n    if (isNaN(d.getTime())) return null;\r\n    return Math.floor((Date.now() - d.getTime()) / (1000 * 60 * 60 * 24));\r\n  };\r\n\r\n  const getLatestBy = (list, predicate) => {\r\n    if (!Array.isArray(list)) return null;\r\n    const candidates = list.filter(predicate);\r\n    if (!candidates.length) return null;\r\n    candidates.sort((a, b) => new Date(b.data_teste || b.data || b.created_at || 0) - new Date(a.data_teste || a.data || a.created_at || 0));\r\n    return candidates[0];\r\n  };\r\n\r\n  const getClienteNomeById = (id) => {\r\n    const c = clientes.find((x) => Number(x.id) === Number(id));\r\n    return c ? c.nome : `PEREQUE LOJA ${String(id || '').toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const fetchBothTestes = React.useCallback(async () => {\r\n    try {\r\n      const [resGer, resAr] = await Promise.all([\r\n        fetch(`${API}/testes-loja/`),\r\n        fetch(`${API}/testes-ar-condicionado/`)\r\n      ]);\r\n      const [dataGer, dataAr] = await Promise.all([\r\n        resGer.ok ? resGer.json() : Promise.resolve([]),\r\n        resAr.ok ? resAr.json() : Promise.resolve([])\r\n      ]);\r\n      const listGer = Array.isArray(dataGer) ? dataGer : [];\r\n      const listAr = Array.isArray(dataAr) ? dataAr : [];\r\n      const countGer = listGer.length;\r\n      const countAr = listAr.length;\r\n      const total = countGer + countAr;\r\n      const offGer = listGer.filter(t => (t.status || '').toString().toUpperCase() === 'OFF').length;\r\n      const offAr = listAr.filter(t => (t.status || '').toString().toUpperCase() === 'OFF').length;\r\n      const off = offGer + offAr;\r\n      const ok = Math.max(0, total - off);\r\n      setTestesList(listGer);\r\n      setTestesArList(listAr);\r\n      setTestesCount(total);\r\n      setTestesOffCount(off);\r\n      setTestesOkCount(ok);\r\n      setTestesUrgent(off > 0);\r\n    } catch (e) {\r\n      setTestesList([]);\r\n      setTestesArList([]);\r\n      setTestesCount(0);\r\n      setTestesOffCount(0);\r\n      setTestesOkCount(0);\r\n      setTestesUrgent(false);\r\n    }\r\n  }, [API]);\r\n\r\n  useEffect(() => { fetchBothTestes(); }, [fetchBothTestes]);\r\n  useEffect(() => {\r\n    if (open) setTestesFilter(initialPendentes ? 'pendentes' : 'all');\r\n  }, [open, initialPendentes]);\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(`${API}/clientes/`);\r\n        if (!res.ok) return;\r\n        const data = await res.json();\r\n        if (mounted) setClientes(Array.isArray(data) ? data : []);\r\n      } catch { if (mounted) setClientes([]); }\r\n    })();\r\n    return () => { mounted = false; };\r\n  }, [API]);\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={open} onClose={onClose} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle sx={{ m: 0, p: 2 }}>\r\n          Testes de Loja\r\n          <IconButton aria-label=\"close\" onClick={onClose} sx={{ position: 'absolute', right: 8, top: 8 }}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Box sx={{ display: 'flex', gap: 1, mb: 2, flexWrap: 'wrap', alignItems: 'center' }}>\r\n            <Chip label={`Total: ${testesCount ?? 0}`} color=\"primary\" />\r\n            <Chip label={`OK: ${testesOkCount ?? 0}`} color=\"success\" />\r\n            <Chip label={`OFF: ${testesOffCount ?? 0}`} color=\"error\" />\r\n            {testesUrgent && <Chip label=\"URGENTE\" color=\"error\" />}\r\n            <Box sx={{ ml: 'auto', display: 'flex', gap: 1, alignItems: 'center' }}>\r\n              <Button size=\"small\" variant={testesFilter === 'pendentes' ? 'contained' : 'outlined'} onClick={() => setTestesFilter('pendentes')}>Pendentes</Button>\r\n              <Button size=\"small\" variant={testesFilter === 'all' ? 'contained' : 'outlined'} onClick={() => setTestesFilter('all')}>Todos</Button>\r\n              <Button size=\"small\" variant={testesFilter === 'ok' ? 'contained' : 'outlined'} onClick={() => setTestesFilter('ok')}>OK</Button>\r\n              <Button size=\"small\" variant={testesFilter === 'alerta' ? 'contained' : 'outlined'} onClick={() => setTestesFilter('alerta')}>ALERTA</Button>\r\n              <Button size=\"small\" variant={testesFilter === 'sem' ? 'contained' : 'outlined'} onClick={() => setTestesFilter('sem')}>Sem registro</Button>\r\n              <Button size=\"small\" variant={testesSortOverdue ? 'contained' : 'outlined'} onClick={() => setTestesSortOverdue(s => !s)} sx={{ ml: 1 }}>{testesSortOverdue ? 'Ordenar: Mais atrasadas' : 'Ordenar: Padr√£o'}</Button>\r\n            </Box>\r\n          </Box>\r\n\r\n          <Box sx={{ mb: 1, display: 'flex', px: 1 }}>\r\n            <Box sx={{ flex: 1, textAlign: 'left', fontWeight: 700 }}>Loja</Box>\r\n            <Box sx={{ width: 150, textAlign: 'center', fontWeight: 700 }}>GERADOR</Box>\r\n            <Box sx={{ width: 150, textAlign: 'center', fontWeight: 700 }}>AR</Box>\r\n          </Box>\r\n\r\n          <List>\r\n            {(() => {\r\n              const rows = Array.from({ length: 16 }).map((_, i) => {\r\n                const idx = i + 1;\r\n                const clienteObj = clientes.find(c => Number(c.id) === idx);\r\n                const lojaName = clienteObj ? clienteObj.nome : `PEREQUE LOJA ${String(idx).padStart(2, '0')}`;\r\n                const gerCandidate = getLatestBy(testesList, t => Number(t.cliente_id) === idx);\r\n                const arCandidate = getLatestBy(testesArList, t => Number(t.cliente_id) === idx);\r\n                const gerDays = gerCandidate ? daysSince(gerCandidate.data_teste || gerCandidate.data || gerCandidate.created_at) : null;\r\n                const arDays = arCandidate ? daysSince(arCandidate.data_teste || arCandidate.data || arCandidate.created_at) : null;\r\n                const maxDays = Math.max(gerDays ?? -1, arDays ?? -1);\r\n                // Status agora exige que AMBOS testes (gerador e ar) estejam dentro do prazo para 'ok'\r\n                let status = 'sem';\r\n                const gerOk = (gerDays !== null && gerDays <= 7);\r\n                const arOk = (arDays !== null && arDays <= 7);\r\n                if (gerOk && arOk) {\r\n                  status = 'ok';\r\n                } else if (gerDays === null && arDays === null) {\r\n                  status = 'sem';\r\n                } else {\r\n                  // Se qualquer um estiver ausente ou atrasado, marcar alerta\r\n                  if ((gerDays !== null && gerDays > 7) || (arDays !== null && arDays > 7) || (gerDays === null || arDays === null)) {\r\n                    status = 'alerta';\r\n                  }\r\n                }\r\n                // L√≥gica de pend√™ncia: atraso > 7 dias OU (quinta-feira e sem registro no dia)\r\n                const today = new Date();\r\n                const isThursday = today.getDay() === 4;\r\n                const sameDay = (a, b) => a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate();\r\n                const gerDate = gerCandidate ? new Date(gerCandidate.data_teste || gerCandidate.data || gerCandidate.created_at) : null;\r\n                const arDate = arCandidate ? new Date(arCandidate.data_teste || arCandidate.data || arCandidate.created_at) : null;\r\n                const hasToday = [gerDate, arDate].some(d => d && sameDay(d, today));\r\n                const overdue = (gerDays === null && arDays === null) || (gerDays !== null && gerDays > 7) || (arDays !== null && arDays > 7);\r\n                const pendente = overdue || (isThursday && !hasToday);\r\n                return { lojaName, gerCandidate, arCandidate, gerDays, arDays, maxDays, status, pendente };\r\n              });\r\n\r\n              const filtered = rows.filter(r => {\r\n                if (testesFilter === 'all') return true;\r\n                if (testesFilter === 'pendentes') return r.pendente;\r\n                if (testesFilter === 'ok') return r.status === 'ok';\r\n                if (testesFilter === 'alerta') return r.status === 'alerta';\r\n                if (testesFilter === 'sem') return r.status === 'sem';\r\n                return true;\r\n              });\r\n\r\n              if (testesSortOverdue) filtered.sort((a, b) => b.maxDays - a.maxDays);\r\n\r\n              return filtered.map(r => (\r\n                <ListItem key={r.lojaName} divider sx={{ display: 'flex', alignItems: 'center' }}>\r\n                  <Box sx={{ flex: 1 }}>\r\n                    <ListItemText primary={r.lojaName} />\r\n                  </Box>\r\n                  <Box sx={{ width: 150, textAlign: 'center' }}>\r\n                    {r.gerCandidate ? (\r\n                      (r.gerDays !== null && r.gerDays <= 7) ? (\r\n                        <Button size=\"small\" variant=\"contained\" color=\"success\" onClick={(e) => { e.stopPropagation(); setSelectedTest({ ...r.gerCandidate, _tipo: 'gerador' }); setOpenTestDetail(true); }}>{new Date(r.gerCandidate.data_teste || r.gerCandidate.data || r.gerCandidate.created_at).toLocaleDateString()}</Button>\r\n                      ) : (\r\n                        <Button size=\"small\" variant=\"contained\" color=\"error\" onClick={(e) => { e.stopPropagation(); setSelectedTest({ ...r.gerCandidate, _tipo: 'gerador' }); setOpenTestDetail(true); }}>{r.gerDays != null ? `${r.gerDays}d` : 'SEM REGISTRO'}</Button>\r\n                      )\r\n                    ) : (\r\n                      <Button size=\"small\" variant=\"contained\" color=\"error\" onClick={(e) => { e.stopPropagation(); setSelectedTest(null); setOpenTestDetail(true); }}>SEM REGISTRO</Button>\r\n                    )}\r\n                  </Box>\r\n                  <Box sx={{ width: 150, textAlign: 'center' }}>\r\n                    {r.arCandidate ? (\r\n                      (r.arDays !== null && r.arDays <= 7) ? (\r\n                        <Button size=\"small\" variant=\"contained\" color=\"success\" onClick={(e) => { e.stopPropagation(); setSelectedTest({ ...r.arCandidate, _tipo: 'ar' }); setOpenTestDetail(true); }}>{new Date(r.arCandidate.data_teste || r.arCandidate.data || r.arCandidate.created_at).toLocaleDateString()}</Button>\r\n                      ) : (\r\n                        <Button size=\"small\" variant=\"contained\" color=\"error\" onClick={(e) => { e.stopPropagation(); setSelectedTest({ ...r.arCandidate, _tipo: 'ar' }); setOpenTestDetail(true); }}>{r.arDays != null ? `${r.arDays}d` : 'SEM REGISTRO'}</Button>\r\n                      )\r\n                    ) : (\r\n                      <Button size=\"small\" variant=\"contained\" color=\"error\" onClick={(e) => { e.stopPropagation(); setSelectedTest(null); setOpenTestDetail(true); }}>SEM REGISTRO</Button>\r\n                    )}\r\n                  </Box>\r\n                </ListItem>\r\n              ));\r\n            })()}\r\n          </List>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => { onClose(); navigate('/testes-loja-menu'); }} color=\"primary\" variant=\"contained\">\r\n            Ir para Testes de Loja\r\n          </Button>\r\n          <Button onClick={onClose} color=\"inherit\">\r\n            Fechar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Dialog - Detalhes do Teste */}\r\n      <Dialog open={openTestDetail} onClose={() => setOpenTestDetail(false)} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>Detalhes do Teste</DialogTitle>\r\n        <DialogContent dividers>\r\n          {selectedTest ? (\r\n            <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n              <Typography><b>Cliente:</b> {getClienteNomeById(selectedTest.cliente_id) || selectedTest.cliente || '‚Äî'}</Typography>\r\n              <Typography><b>Data:</b> {new Date(selectedTest.data_teste || selectedTest.data || selectedTest.created_at).toLocaleString()}</Typography>\r\n              <Typography><b>Status:</b> {selectedTest.status || '‚Äî'}</Typography>\r\n              {selectedTest.observacao && <Typography><b>Observa√ß√£o:</b> {selectedTest.observacao}</Typography>}\r\n              {selectedTest.foto && (\r\n                <Box sx={{ mt: 1 }}>\r\n                  {(() => {\r\n                    const base = `${API}/uploads/${selectedTest._tipo === 'ar' ? 'testes-ar-condicionado' : 'testes-loja'}`;\r\n                    const url = `${base}/${selectedTest.foto}`;\r\n                    return <img src={url} alt=\"foto\" style={{ maxWidth: '100%', borderRadius: 6 }} />;\r\n                  })()}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          ) : (\r\n            <Typography color=\"text.secondary\">Sem registro dispon√≠vel para este tipo.</Typography>\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => {\r\n            // navegar para a p√°gina de testes e abrir o teste selecionado via query params\r\n            setOpenTestDetail(false);\r\n            onClose();\r\n            if (selectedTest && selectedTest.id) {\r\n              const tipo = selectedTest._tipo === 'ar' ? 'ar' : 'gerador';\r\n              navigate(`/testes-loja?id=${selectedTest.id}&tipo=${tipo}`);\r\n            } else {\r\n              navigate('/testes-loja');\r\n            }\r\n          }} variant=\"contained\">Abrir na p√°gina</Button>\r\n          <Button onClick={() => setOpenTestDetail(false)}>Fechar</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}