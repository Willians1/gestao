{"ast":null,"code":"var _jsxFileName = \"D:\\\\download\\\\240825gestao\\\\gestao\\\\frontend\\\\src\\\\pages\\\\OrcamentoObra.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Box, Button, Paper, Typography, Chip, Stack, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, Dialog, DialogTitle, DialogContent, DialogActions, TextField, FormControl, InputLabel, Select, MenuItem } from '@mui/material';\nimport { useTheme } from '@mui/material/styles';\nimport { useNavigate } from 'react-router-dom';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OrcamentoObra() {\n  _s();\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const [rows, setRows] = React.useState([]);\n  const [selectedOrcamento, setSelectedOrcamento] = React.useState(null);\n  const [page, setPage] = React.useState(0);\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\n  const [total, setTotal] = React.useState(0);\n  const [openModal, setOpenModal] = React.useState(false);\n  const [form, setForm] = React.useState({\n    cliente_id: '',\n    etapa: '',\n    descricao: '',\n    unidade: '',\n    quantidade: '',\n    custo_unitario: '',\n    data: ''\n  });\n  const [clientes, setClientes] = React.useState([]); // Lista de clientes para o dropdown\n  const [saving, setSaving] = React.useState(false);\n  const API = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n  const loadPersisted = async () => {\n    try {\n      const resp = await fetch(`${API}/orcamento_obra/`);\n      if (!resp.ok) return;\n      const data = await resp.json();\n      if (!data) return;\n      setRows((data || []).map((r, i) => {\n        var _r$id;\n        return {\n          id: (_r$id = r.id) !== null && _r$id !== void 0 ? _r$id : i + 1,\n          ...r\n        };\n      }));\n      setTotal((data || []).length);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const loadClientes = async () => {\n    try {\n      const response = await fetch(`${API}/clientes/`);\n      if (response.ok) {\n        const data = await response.json();\n        setClientes(data);\n      }\n    } catch (error) {\n      console.error('Erro ao carregar clientes:', error);\n    }\n  };\n  React.useEffect(() => {\n    loadPersisted();\n    loadClientes();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      background: theme.palette.background.default,\n      minHeight: '100vh',\n      p: {\n        xs: 1,\n        md: 4\n      }\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        maxWidth: 1200,\n        mx: 'auto',\n        mt: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"text\",\n          startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 45\n          }, this),\n          onClick: () => navigate(-1),\n          sx: {\n            mr: 2\n          },\n          children: \"Voltar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          sx: {\n            fontWeight: 700,\n            mb: 0\n          },\n          children: \"Or\\xE7amentos de Obra\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          sx: {\n            mr: 2\n          },\n          children: \"Total de resultados:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          label: total,\n          color: \"primary\",\n          sx: {\n            fontWeight: 700,\n            fontSize: 16\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            flex: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"success\",\n          sx: {\n            mr: 2\n          },\n          children: \"Filtrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: () => setOpenModal(true),\n          children: \"Criar novo or\\xE7amento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 1,\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Chip, {\n          label: \"Nome\",\n          onDelete: () => {}\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          label: \"Data\",\n          onDelete: () => {}\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        sx: {\n          borderRadius: 2,\n          boxShadow: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              sx: {\n                background: '#f4f6f8'\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  fontWeight: 700\n                },\n                children: \"Cliente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  fontWeight: 700\n                },\n                children: \"Etapa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  fontWeight: 700\n                },\n                children: \"Descri\\xE7\\xE3o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  fontWeight: 700\n                },\n                children: \"Unidade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  fontWeight: 700\n                },\n                children: \"Quantidade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  fontWeight: 700\n                },\n                children: \"Custo Unit.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  fontWeight: 700\n                },\n                children: \"Data\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  fontWeight: 700\n                },\n                children: \"A\\xE7\\xF5es\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, idx) => /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              sx: {\n                borderBottom: '1px solid #e0e0e0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  sx: {\n                    fontWeight: 'bold'\n                  },\n                  children: [\"ID: \", row.cliente_id || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: row.etapa || ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: row.descricao || ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: row.unidade || ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: row.quantidade || ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [\"R$ \", parseFloat(row.custo_unitario || 0).toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: row.data || ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"text\",\n                  onClick: () => setSelectedOrcamento(row),\n                  children: \"Ver detalhes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this)]\n            }, row.id || idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n          component: \"div\",\n          count: rows.length,\n          page: page,\n          onPageChange: (_, newPage) => setPage(newPage),\n          rowsPerPage: rowsPerPage,\n          onRowsPerPageChange: e => {\n            setRowsPerPage(parseInt(e.target.value, 10));\n            setPage(0);\n          },\n          rowsPerPageOptions: [5, 10, 25],\n          labelRowsPerPage: \"Linhas por p\\xE1gina:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: openModal,\n        onClose: () => setOpenModal(false),\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"Novo Or\\xE7amento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          sx: {\n            minWidth: 340\n          },\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            margin: \"normal\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Cliente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: form.cliente_id,\n              label: \"Cliente\",\n              onChange: e => setForm(f => ({\n                ...f,\n                cliente_id: e.target.value\n              })),\n              children: clientes.map(cliente => /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: cliente.id,\n                children: [\"ID: \", cliente.id, \" - \", cliente.nome]\n              }, cliente.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Etapa\",\n            fullWidth: true,\n            margin: \"normal\",\n            value: form.etapa,\n            onChange: e => setForm(f => ({\n              ...f,\n              etapa: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Descri\\xE7\\xE3o\",\n            fullWidth: true,\n            margin: \"normal\",\n            value: form.descricao,\n            onChange: e => setForm(f => ({\n              ...f,\n              descricao: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Unidade\",\n            fullWidth: true,\n            margin: \"normal\",\n            value: form.unidade,\n            onChange: e => setForm(f => ({\n              ...f,\n              unidade: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Quantidade\",\n            type: \"number\",\n            fullWidth: true,\n            margin: \"normal\",\n            value: form.quantidade,\n            onChange: e => setForm(f => ({\n              ...f,\n              quantidade: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Custo Unit\\xE1rio\",\n            type: \"number\",\n            fullWidth: true,\n            margin: \"normal\",\n            value: form.custo_unitario,\n            onChange: e => setForm(f => ({\n              ...f,\n              custo_unitario: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Data\",\n            type: \"date\",\n            InputLabelProps: {\n              shrink: true\n            },\n            fullWidth: true,\n            margin: \"normal\",\n            value: form.data,\n            onChange: e => setForm(f => ({\n              ...f,\n              data: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setOpenModal(false),\n            disabled: saving,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: async () => {\n              if (!form.cliente_id) {\n                alert('Por favor, selecione um cliente');\n                return;\n              }\n              setSaving(true);\n              try {\n                const resp = await fetch(`${API}/orcamento_obra/`, {\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify(form)\n                });\n                if (!resp.ok) throw new Error('Erro ao criar orçamento');\n                setOpenModal(false);\n                setForm({\n                  cliente_id: '',\n                  etapa: '',\n                  descricao: '',\n                  unidade: '',\n                  quantidade: '',\n                  custo_unitario: '',\n                  data: ''\n                });\n                await loadPersisted();\n              } catch (e) {\n                alert('Erro ao criar orçamento.');\n              } finally {\n                setSaving(false);\n              }\n            },\n            disabled: saving || !form.cliente_id || !form.etapa || !form.descricao,\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: !!selectedOrcamento,\n        onClose: () => setSelectedOrcamento(null),\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"Detalhes do Or\\xE7amento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          sx: {\n            minWidth: 340\n          },\n          children: selectedOrcamento && /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Nome:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 29\n              }, this), \" \", selectedOrcamento.nome]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"ID:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 29\n              }, this), \" \", selectedOrcamento.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Valor Total:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 29\n              }, this), \" \", selectedOrcamento.valor_total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Data:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 29\n              }, this), \" \", selectedOrcamento.data]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => setSelectedOrcamento(null),\n            children: \"Fechar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(OrcamentoObra, \"cR6vuPlLo1tFWv1xQmyPcgzFjNM=\", false, function () {\n  return [useTheme, useNavigate];\n});\n_c = OrcamentoObra;\nvar _c;\n$RefreshReg$(_c, \"OrcamentoObra\");","map":{"version":3,"names":["React","Box","Button","Paper","Typography","Chip","Stack","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Dialog","DialogTitle","DialogContent","DialogActions","TextField","FormControl","InputLabel","Select","MenuItem","useTheme","useNavigate","ArrowBackIcon","jsxDEV","_jsxDEV","OrcamentoObra","_s","theme","navigate","rows","setRows","useState","selectedOrcamento","setSelectedOrcamento","page","setPage","rowsPerPage","setRowsPerPage","total","setTotal","openModal","setOpenModal","form","setForm","cliente_id","etapa","descricao","unidade","quantidade","custo_unitario","data","clientes","setClientes","saving","setSaving","API","process","env","REACT_APP_API_URL","loadPersisted","resp","fetch","ok","json","map","r","i","_r$id","id","length","e","console","error","loadClientes","response","useEffect","sx","background","palette","default","minHeight","p","xs","md","children","maxWidth","mx","mt","display","alignItems","mb","variant","startIcon","fileName","_jsxFileName","lineNumber","columnNumber","onClick","mr","fontWeight","label","color","fontSize","flex","direction","spacing","onDelete","component","borderRadius","boxShadow","slice","row","idx","hover","borderBottom","parseFloat","toFixed","size","count","onPageChange","_","newPage","onRowsPerPageChange","parseInt","target","value","rowsPerPageOptions","labelRowsPerPage","open","onClose","minWidth","fullWidth","margin","onChange","f","cliente","nome","type","InputLabelProps","shrink","disabled","alert","method","headers","body","JSON","stringify","Error","valor_total","_c","$RefreshReg$"],"sources":["D:/download/240825gestao/gestao/frontend/src/pages/OrcamentoObra.js"],"sourcesContent":["import React from 'react';\r\nimport { Box, Button, Paper, Typography, Chip, Stack, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, Dialog, DialogTitle, DialogContent, DialogActions, TextField, FormControl, InputLabel, Select, MenuItem } from '@mui/material';\r\nimport { useTheme } from '@mui/material/styles';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\n\r\nexport default function OrcamentoObra() {\r\n  const theme = useTheme();\r\n  const navigate = useNavigate();\r\n  const [rows, setRows] = React.useState([]);\r\n  const [selectedOrcamento, setSelectedOrcamento] = React.useState(null);\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const [total, setTotal] = React.useState(0);\r\n  const [openModal, setOpenModal] = React.useState(false);\r\n  const [form, setForm] = React.useState({ cliente_id: '', etapa: '', descricao: '', unidade: '', quantidade: '', custo_unitario: '', data: '' });\r\n  const [clientes, setClientes] = React.useState([]);  // Lista de clientes para o dropdown\r\n  const [saving, setSaving] = React.useState(false);\r\n  const API = process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n\r\n  const loadPersisted = async () => {\r\n    try {\r\n      const resp = await fetch(`${API}/orcamento_obra/`);\r\n      if (!resp.ok) return;\r\n      const data = await resp.json();\r\n      if (!data) return;\r\n      setRows((data || []).map((r, i) => ({ id: r.id ?? i + 1, ...r })));\r\n      setTotal((data || []).length);\r\n    } catch (e) { console.error(e); }\r\n  };\r\n\r\n  const loadClientes = async () => {\r\n    try {\r\n      const response = await fetch(`${API}/clientes/`);\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setClientes(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar clientes:', error);\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => { \r\n    loadPersisted(); \r\n    loadClientes();\r\n  }, []);\r\n\r\n  return (\r\n    <Box sx={{ background: theme.palette.background.default, minHeight: '100vh', p: { xs: 1, md: 4 } }}>\r\n      <Box sx={{ maxWidth: 1200, mx: 'auto', mt: 3 }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n          <Button variant=\"text\" startIcon={<ArrowBackIcon />} onClick={() => navigate(-1)} sx={{ mr: 2 }}>Voltar</Button>\r\n          <Typography variant=\"h4\" sx={{ fontWeight: 700, mb: 0 }}>Orçamentos de Obra</Typography>\r\n        </Box>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n          <Typography variant=\"subtitle1\" sx={{ mr: 2 }}>Total de resultados:</Typography>\r\n          <Chip label={total} color=\"primary\" sx={{ fontWeight: 700, fontSize: 16 }} />\r\n          <Box sx={{ flex: 1 }} />\r\n          <Button variant=\"contained\" color=\"success\" sx={{ mr: 2 }}>Filtrar</Button>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={() => setOpenModal(true)}>Criar novo orçamento</Button>\r\n        </Box>\r\n        {/* Chips de filtro exemplo */}\r\n        <Stack direction=\"row\" spacing={1} sx={{ mb: 2 }}>\r\n          <Chip label=\"Nome\" onDelete={() => {}} />\r\n          <Chip label=\"Data\" onDelete={() => {}} />\r\n        </Stack>\r\n        <TableContainer component={Paper} sx={{ borderRadius: 2, boxShadow: 0 }}>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow sx={{ background: '#f4f6f8' }}>\r\n                <TableCell sx={{ fontWeight: 700 }}>Cliente</TableCell>\r\n                <TableCell sx={{ fontWeight: 700 }}>Etapa</TableCell>\r\n                <TableCell sx={{ fontWeight: 700 }}>Descrição</TableCell>\r\n                <TableCell sx={{ fontWeight: 700 }}>Unidade</TableCell>\r\n                <TableCell sx={{ fontWeight: 700 }}>Quantidade</TableCell>\r\n                <TableCell sx={{ fontWeight: 700 }}>Custo Unit.</TableCell>\r\n                <TableCell sx={{ fontWeight: 700 }}>Data</TableCell>\r\n                <TableCell sx={{ fontWeight: 700 }}>Ações</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, idx) => (\r\n                <TableRow key={row.id || idx} hover sx={{ borderBottom: '1px solid #e0e0e0' }}>\r\n                  <TableCell>\r\n                    <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\r\n                      ID: {row.cliente_id || 'N/A'}\r\n                    </Typography>\r\n                  </TableCell>\r\n                  <TableCell>{row.etapa || ''}</TableCell>\r\n                  <TableCell>{row.descricao || ''}</TableCell>\r\n                  <TableCell>{row.unidade || ''}</TableCell>\r\n                  <TableCell>{row.quantidade || ''}</TableCell>\r\n                  <TableCell>R$ {parseFloat(row.custo_unitario || 0).toFixed(2)}</TableCell>\r\n                  <TableCell>{row.data || ''}</TableCell>\r\n                  <TableCell>\r\n                    <Button size=\"small\" variant=\"text\" onClick={() => setSelectedOrcamento(row)}>Ver detalhes</Button>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n          <TablePagination\r\n            component=\"div\"\r\n            count={rows.length}\r\n            page={page}\r\n            onPageChange={(_, newPage) => setPage(newPage)}\r\n            rowsPerPage={rowsPerPage}\r\n            onRowsPerPageChange={e => { setRowsPerPage(parseInt(e.target.value, 10)); setPage(0); }}\r\n            rowsPerPageOptions={[5, 10, 25]}\r\n            labelRowsPerPage=\"Linhas por página:\"\r\n          />\r\n        </TableContainer>\r\n        {/* Modal de cadastro */}\r\n        <Dialog open={openModal} onClose={() => setOpenModal(false)}>\r\n          <DialogTitle>Novo Orçamento</DialogTitle>\r\n          <DialogContent sx={{ minWidth: 340 }}>\r\n            <FormControl fullWidth margin=\"normal\">\r\n              <InputLabel>Cliente</InputLabel>\r\n              <Select\r\n                value={form.cliente_id}\r\n                label=\"Cliente\"\r\n                onChange={e => setForm(f => ({ ...f, cliente_id: e.target.value }))}\r\n              >\r\n                {clientes.map(cliente => (\r\n                  <MenuItem key={cliente.id} value={cliente.id}>\r\n                    ID: {cliente.id} - {cliente.nome}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n            <TextField label=\"Etapa\" fullWidth margin=\"normal\" value={form.etapa} onChange={e => setForm(f => ({ ...f, etapa: e.target.value }))} />\r\n            <TextField label=\"Descrição\" fullWidth margin=\"normal\" value={form.descricao} onChange={e => setForm(f => ({ ...f, descricao: e.target.value }))} />\r\n            <TextField label=\"Unidade\" fullWidth margin=\"normal\" value={form.unidade} onChange={e => setForm(f => ({ ...f, unidade: e.target.value }))} />\r\n            <TextField label=\"Quantidade\" type=\"number\" fullWidth margin=\"normal\" value={form.quantidade} onChange={e => setForm(f => ({ ...f, quantidade: e.target.value }))} />\r\n            <TextField label=\"Custo Unitário\" type=\"number\" fullWidth margin=\"normal\" value={form.custo_unitario} onChange={e => setForm(f => ({ ...f, custo_unitario: e.target.value }))} />\r\n            <TextField label=\"Data\" type=\"date\" InputLabelProps={{ shrink: true }} fullWidth margin=\"normal\" value={form.data} onChange={e => setForm(f => ({ ...f, data: e.target.value }))} />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setOpenModal(false)} disabled={saving}>Cancelar</Button>\r\n            <Button variant=\"contained\" onClick={async () => {\r\n              if (!form.cliente_id) {\r\n                alert('Por favor, selecione um cliente');\r\n                return;\r\n              }\r\n              setSaving(true);\r\n              try {\r\n                const resp = await fetch(`${API}/orcamento_obra/`, {\r\n                  method: 'POST',\r\n                  headers: { 'Content-Type': 'application/json' },\r\n                  body: JSON.stringify(form)\r\n                });\r\n                if (!resp.ok) throw new Error('Erro ao criar orçamento');\r\n                setOpenModal(false);\r\n                setForm({ cliente_id: '', etapa: '', descricao: '', unidade: '', quantidade: '', custo_unitario: '', data: '' });\r\n                await loadPersisted();\r\n              } catch (e) {\r\n                alert('Erro ao criar orçamento.');\r\n              } finally {\r\n                setSaving(false);\r\n              }\r\n            }} disabled={saving || !form.cliente_id || !form.etapa || !form.descricao}>Salvar</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        {/* Modal de detalhes do orçamento */}\r\n        <Dialog open={!!selectedOrcamento} onClose={() => setSelectedOrcamento(null)}>\r\n          <DialogTitle>Detalhes do Orçamento</DialogTitle>\r\n          <DialogContent sx={{ minWidth: 340 }}>\r\n            {selectedOrcamento && (\r\n              <Box>\r\n                <Typography><b>Nome:</b> {selectedOrcamento.nome}</Typography>\r\n                <Typography><b>ID:</b> {selectedOrcamento.id}</Typography>\r\n                <Typography><b>Valor Total:</b> {selectedOrcamento.valor_total}</Typography>\r\n                <Typography><b>Data:</b> {selectedOrcamento.data}</Typography>\r\n              </Box>\r\n            )}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={() => setSelectedOrcamento(null)}>Fechar</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}